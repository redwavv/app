import{G as v,W as g,A as b,S as L,P,a as S,b as x,T as k,R as M,V as p,c as R,d as W,O as A,M as w}from"./vendor.e34c1056.js";const C=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))u(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const n of o.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&u(n)}).observe(document,{childList:!0,subtree:!0});function s(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function u(e){if(e.ep)return;e.ep=!0;const o=s(e);fetch(e.href,o)}};C();let a,r,i,d,c,f;const E=new v;class G{constructor(){E.load("assets/boat/scene.gltf",t=>{r.add(t.scene),t.scene.scale.set(3,3,3),t.scene.position.set(5,13,50),t.scene.rotation.y=1.5,this.boat=t.scene,this.speed={vel:0,rot:0}})}stop(){this.speed.vel=0,this.speed.rot=0}update(){this.boat&&(this.boat.rotation.y+=this.speed.rot,this.boat.translateX(this.speed.vel))}}const l=new G;z();h();async function z(){i=new g,i.setPixelRatio(window.devicePixelRatio),i.setSize(window.innerWidth,window.innerHeight),i.toneMapping=b,document.body.appendChild(i.domElement),r=new L,a=new P(55,window.innerWidth/window.innerHeight,1,2e4),a.position.set(30,30,100),f=new p;const m=new S(1e4,1e4);c=new x(m,{textureWidth:512,textureHeight:512,waterNormals:new k().load("assets/waternormals.jpg",function(n){n.wrapS=n.wrapT=M}),sunDirection:new p,sunColor:16777215,waterColor:7695,distortionScale:3.7,fog:r.fog!==void 0}),c.rotation.x=-Math.PI/2,r.add(c);const t=new R;t.scale.setScalar(1e4),r.add(t);const s=t.material.uniforms;s.turbidity.value=10,s.rayleigh.value=2,s.mieCoefficient.value=.005,s.mieDirectionalG.value=.8;const u={elevation:2,azimuth:180},e=new W(i);function o(){const n=w.degToRad(90-u.elevation),y=w.degToRad(u.azimuth);f.setFromSphericalCoords(1,n,y),t.material.uniforms.sunPosition.value.copy(f),c.material.uniforms.sunDirection.value.copy(f).normalize(),r.environment=e.fromScene(t).texture}o(),d=new A(a,i.domElement),d.maxPolarAngle=Math.PI*.495,d.target.set(0,10,0),d.minDistance=40,d.maxDistance=200,d.update(),c.material.uniforms,window.addEventListener("resize",T),window.addEventListener("keydown",function(n){n.key=="ArrowUp"&&(l.speed.vel=1),n.key=="ArrowDown"&&(l.speed.vel=-1),n.key=="ArrowRight"&&(l.speed.rot=-.1),n.key=="ArrowLeft"&&(l.speed.rot=.1)}),window.addEventListener("keyup",function(n){l.stop()})}function T(){a.aspect=window.innerWidth/window.innerHeight,a.updateProjectionMatrix(),i.setSize(window.innerWidth,window.innerHeight)}function h(){requestAnimationFrame(h),D(),l.update(),checkCollisions()}function D(){c.material.uniforms.time.value+=1/60,i.render(r,a)}
